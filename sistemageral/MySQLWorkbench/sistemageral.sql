-- MySQL Script generated by MySQL Workbench
-- Mon Dec 17 10:48:00 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema sistemageral
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `animais`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `animais` ;

CREATE TABLE IF NOT EXISTS `animais` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `animal_especial` TINYINT NOT NULL DEFAULT 0,
  `animal_nome` VARCHAR(200) NOT NULL,
  `animais_tipo` INT(11) NOT NULL,
  `animais_raca` INT NOT NULL,
  `animal_foto` LONGBLOB NULL,
  `animal_obs` BLOB NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_animais_animaistipos_idx` (`animais_tipo` ASC),
  INDEX `fk_animais_animaisracas_idx` (`animais_raca` ASC),
  CONSTRAINT `fk_animais_animaistipos`
    FOREIGN KEY (`animais_tipo`)
    REFERENCES `animaistipos` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_animais_animaisracas`
    FOREIGN KEY (`animais_raca`)
    REFERENCES `animaisracas` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `animaisracas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `animaisracas` ;

CREATE TABLE IF NOT EXISTS `animaisracas` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `animaisraca_nome` VARCHAR(200) NULL,
  `animaisracas_chave` INT NULL,
  `animaisracas_obs` BLOB NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `animaistipos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `animaistipos` ;

CREATE TABLE IF NOT EXISTS `animaistipos` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `animaistipos_nome` VARCHAR(40) NOT NULL,
  `animaistipos_chave` INT(11) NULL,
  `animaistipos_obs` BLOB NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `empresas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `empresas` ;

CREATE TABLE IF NOT EXISTS `empresas` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `empresa_uuid` VARCHAR(40) NULL DEFAULT NULL,
  `empresa_matriz` INT(11) NULL DEFAULT NULL,
  `empresas_id` INT(11) NOT NULL,
  `empresa_ativa` TINYINT(4) NULL DEFAULT NULL,
  `empresa_data_inclusao` DATETIME NULL DEFAULT NULL,
  `empresa_insc_cnpj_cpf` VARCHAR(40) NULL DEFAULT NULL,
  `empresa_insc_estadual` VARCHAR(40) NULL DEFAULT NULL,
  `empresa_insc_municipal` VARCHAR(40) NULL DEFAULT NULL,
  `empresa_razao_social` VARCHAR(200) NULL DEFAULT NULL,
  `empresa_endereco` VARCHAR(200) NULL DEFAULT NULL,
  `empresa_numero` VARCHAR(40) NULL DEFAULT NULL,
  `empresa_observacao` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 13
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `estados`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `estados` ;

CREATE TABLE IF NOT EXISTS `estados` (
  `id` INT(11) NOT NULL,
  `sigla` CHAR(2) NULL DEFAULT NULL,
  `nome` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `estoque`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `estoque` ;

CREATE TABLE IF NOT EXISTS `estoque` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `item_empresa` INT NULL,
  `item_codigo` VARCHAR(40) NOT NULL,
  `item_EAN` VARCHAR(40) NULL,
  `item_ativo` TINYINT NULL,
  `itemnome` VARCHAR(200) NOT NULL,
  `item_quantidate_atual` INT NOT NULL DEFAULT 0,
  `item_ultima_compra` TIMESTAMP NULL,
  `item_ultima_venda` TIMESTAMP NULL,
  `item_fornecedor` INT NULL DEFAULT 0,
  `item_obs` BLOB NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_estoque_empresa_idx` (`item_empresa` ASC),
  CONSTRAINT `fk_estoque_empresa`
    FOREIGN KEY (`item_empresa`)
    REFERENCES `empresas` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `fabricantes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `fabricantes` ;

CREATE TABLE IF NOT EXISTS `fabricantes` (
  `id` INT(11) NOT NULL,
  `nome` TEXT NULL DEFAULT NULL,
  `site` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `medicos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `medicos` ;

CREATE TABLE IF NOT EXISTS `medicos` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `medico_nome` VARCHAR(200) NULL DEFAULT NULL,
  `medico_tipo` INT(11) NOT NULL,
  `medico_ativo` TINYINT(11) NULL DEFAULT NULL,
  `medico_registro` VARCHAR(40) NULL DEFAULT NULL,
  `medico_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_medicostipo_medicos_idx` (`medico_tipo` ASC),
  CONSTRAINT `fk_medicostipo_medicos`
    FOREIGN KEY (`medico_tipo`)
    REFERENCES `medicostipos` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `medicostipos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `medicostipos` ;

CREATE TABLE IF NOT EXISTS `medicostipos` (
  `id` INT(11) NOT NULL,
  `medicostipo_chave` INT(11) NOT NULL,
  `medicostipo_nome` VARCHAR(40) NOT NULL,
  `medicostipo_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `protocolos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `protocolos` ;

CREATE TABLE IF NOT EXISTS `protocolos` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `empresas_id` INT(11) NOT NULL,
  `protocolosstatus_id` INT(11) NOT NULL,
  `protocolo_uuid` VARCHAR(40) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `protocolo_nome` VARCHAR(200) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `protocolo_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_proptocolos_empresas` (`empresas_id` ASC),
  INDEX `fk_protocolos_protocolosstatus` (`protocolosstatus_id` ASC),
  CONSTRAINT `protocolos_ibfk_1`
    FOREIGN KEY (`empresas_id`)
    REFERENCES `empresas` (`id`),
  CONSTRAINT `protocolos_ibfk_2`
    FOREIGN KEY (`protocolosstatus_id`)
    REFERENCES `protocolosstatus` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `protocolosstatus`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `protocolosstatus` ;

CREATE TABLE IF NOT EXISTS `protocolosstatus` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `protocolo_status_nome` VARCHAR(200) CHARACTER SET 'latin1' NOT NULL,
  `protocolo_status_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `receitas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `receitas` ;

CREATE TABLE IF NOT EXISTS `receitas` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `empresas_id` INT(11) NULL DEFAULT NULL,
  `usuarios_id` INT(11) NULL DEFAULT NULL,
  `receita_status` INT(11) NULL DEFAULT NULL,
  `receita_tipo` INT(11) NULL DEFAULT NULL,
  `receita_ad` TIMESTAMP NULL DEFAULT NULL,
  `receita_validade` DATE NULL DEFAULT NULL,
  `receita_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_receitas_empresas` (`empresas_id` ASC),
  INDEX `fk_receitas_usuarios` (`usuarios_id` ASC),
  CONSTRAINT `receitas_ibfk_1`
    FOREIGN KEY (`empresas_id`)
    REFERENCES `empresas` (`id`),
  CONSTRAINT `receitas_ibfk_2`
    FOREIGN KEY (`usuarios_id`)
    REFERENCES `usuarios` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `unidades`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `unidades` ;

CREATE TABLE IF NOT EXISTS `unidades` (
  `id` INT(11) NOT NULL,
  `sigla` TEXT NULL DEFAULT NULL,
  `nome` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `usuarios`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `usuarios` ;

CREATE TABLE IF NOT EXISTS `usuarios` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `empresas_id` INT(11) NOT NULL,
  `usuariosniveis_id` INT(11) NOT NULL,
  `usuariossituacoes_id` INT(11) NOT NULL,
  `usuariostipos_id` INT(11) NOT NULL,
  `usuario_uuid` VARCHAR(40) NULL DEFAULT NULL,
  `usuario_email` VARCHAR(200) NULL DEFAULT NULL,
  `usuario_senha` VARCHAR(200) NULL DEFAULT NULL,
  `usuario_adicionado_data` DATETIME NULL DEFAULT NULL,
  `usuario_cpf` VARCHAR(40) NULL DEFAULT NULL,
  `usuario_rg` VARCHAR(40) NULL DEFAULT NULL,
  `usuario_nome` VARCHAR(200) NULL DEFAULT NULL,
  `usuario_endereco` VARCHAR(200) NULL DEFAULT NULL,
  `usuario_numero` VARCHAR(40) NULL DEFAULT NULL,
  `usuario_bairro` VARCHAR(40) NULL DEFAULT NULL,
  `usuario_cidade` VARCHAR(100) NULL DEFAULT NULL,
  `usuario_estado` VARCHAR(2) NULL DEFAULT NULL,
  `usuario_pais` VARCHAR(40) NULL DEFAULT NULL,
  `usuario_cep` VARCHAR(10) NULL DEFAULT NULL,
  `usuario_fone1` VARCHAR(15) NULL DEFAULT NULL,
  `usuario_fone2` VARCHAR(15) NULL DEFAULT NULL,
  `usuario_fone3` VARCHAR(15) NULL DEFAULT NULL,
  `usuario_fone4` VARCHAR(15) NULL DEFAULT NULL,
  `usuario_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `FK_usuarios_empresas` (`empresas_id` ASC),
  INDEX `FK_usuarios_usuariossituacoes` (`usuariossituacoes_id` ASC),
  INDEX `FK_usuarios_usuariosniveis` (`usuariosniveis_id` ASC),
  INDEX `FK_usuarios_usuariostipos` (`usuariostipos_id` ASC),
  CONSTRAINT `usuarios_ibfk_1`
    FOREIGN KEY (`empresas_id`)
    REFERENCES `empresas` (`id`),
  CONSTRAINT `usuarios_ibfk_2`
    FOREIGN KEY (`usuariosniveis_id`)
    REFERENCES `usuariosniveis` (`id`),
  CONSTRAINT `usuarios_ibfk_3`
    FOREIGN KEY (`usuariossituacoes_id`)
    REFERENCES `usuariossituacoes` (`id`),
  CONSTRAINT `usuarios_ibfk_4`
    FOREIGN KEY (`usuariostipos_id`)
    REFERENCES `usuariostipos` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `usuariosniveis`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `usuariosniveis` ;

CREATE TABLE IF NOT EXISTS `usuariosniveis` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `usuarionivel_chave` INT(11) NOT NULL,
  `usuarionivel_nome` VARCHAR(200) NOT NULL,
  `usuarionivel_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `usuariossituacoes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `usuariossituacoes` ;

CREATE TABLE IF NOT EXISTS `usuariossituacoes` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `usuariossituacao_chave` INT(11) NOT NULL,
  `usuariossituacao_nome` VARCHAR(200) NOT NULL,
  `usuariossituacao_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `usuariostipos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `usuariostipos` ;

CREATE TABLE IF NOT EXISTS `usuariostipos` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `usuariostipo_chave` INT(11) NOT NULL,
  `usuariostipo_nome` VARCHAR(200) NOT NULL,
  `usuariostipo_obs` BLOB NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
